<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>node06 | Mrbinbindeng</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="什么是协议？  网络协议为计算机网络中进行数据交换而建立的规则、标准或约定的集合。  例如，网络中一个微机用户和一个大型主机的操作员进行通信，由于这两个  数据终端所用字符集不同，因此操作员所输入的命令彼此不认识。为了能进行通信，  规定每个终端都要将各自字符集中的字符先变换为标准字符集的字符后，才进入网络传送，  到达目的终端之后，再变换为该终端字符集的字符。当然，对于不相容终端，  除了需变">
<meta property="og:type" content="article">
<meta property="og:title" content="node06">
<meta property="og:url" content="http://yoursite.com/2016/04/17/node06/index.html">
<meta property="og:site_name" content="Mrbinbindeng">
<meta property="og:description" content="什么是协议？  网络协议为计算机网络中进行数据交换而建立的规则、标准或约定的集合。  例如，网络中一个微机用户和一个大型主机的操作员进行通信，由于这两个  数据终端所用字符集不同，因此操作员所输入的命令彼此不认识。为了能进行通信，  规定每个终端都要将各自字符集中的字符先变换为标准字符集的字符后，才进入网络传送，  到达目的终端之后，再变换为该终端字符集的字符。当然，对于不相容终端，  除了需变">
<meta property="og:updated_time" content="2016-11-29T00:43:48.074Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="node06">
<meta name="twitter:description" content="什么是协议？  网络协议为计算机网络中进行数据交换而建立的规则、标准或约定的集合。  例如，网络中一个微机用户和一个大型主机的操作员进行通信，由于这两个  数据终端所用字符集不同，因此操作员所输入的命令彼此不认识。为了能进行通信，  规定每个终端都要将各自字符集中的字符先变换为标准字符集的字符后，才进入网络传送，  到达目的终端之后，再变换为该终端字符集的字符。当然，对于不相容终端，  除了需变">
  
    <link rel="alternative" href="/atom.xml" title="Mrbinbindeng" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars1.githubusercontent.com/u/22582433?v=3&amp;s=460" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Dengbinbin</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Mrbinbindeng" title="github">github</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/winnerweb/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Dengbinbin</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars1.githubusercontent.com/u/22582433?v=3&amp;s=460" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Dengbinbin</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Mrbinbindeng" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-node06" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/17/node06/" class="article-date">
  	<time datetime="2016-04-17T12:24:22.000Z" itemprop="datePublished">2016-04-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      node06
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p>什么是协议？<br>  网络协议为计算机网络中进行数据交换而建立的规则、标准或约定的集合。<br>  例如，网络中一个微机用户和一个大型主机的操作员进行通信，由于这两个<br>  数据终端所用字符集不同，因此操作员所输入的命令彼此不认识。为了能进行通信，<br>  规定每个终端都要将各自字符集中的字符先变换为标准字符集的字符后，才进入网络传送，<br>  到达目的终端之后，再变换为该终端字符集的字符。当然，对于不相容终端，<br>  除了需变换字符集字符外还需转换其他特性，如显示格式、行长、行数、<br>  屏幕滚动方式等也需作相应的变换。</p>
<p>  网络协议是由三个要素组成：<br>  1.语义：语义是解释控制信息每个部分的意义。它规定了需要发出何种控制信息，以及完成的动作与做出什么样的响应。<br>  2.语法：语法是用户数据与控制信息的结构与格式，以及数据出现的顺序。<br>  3.时序：时序是对事件发生顺序的详细说明。（也可称为“同步”）。</p>
</li>
</ul>
<h3 id="1-2-http协议"><a href="#1-2-http协议" class="headerlink" title="1.2 http协议"></a>1.2 http协议</h3><h3 id="1-3session-amp-cookie"><a href="#1-3session-amp-cookie" class="headerlink" title="1.3session&amp;cookie"></a>1.3session&amp;cookie</h3><h3 id="1-4-工具的使用"><a href="#1-4-工具的使用" class="headerlink" title="1.4 工具的使用"></a>1.4 工具的使用</h3><h3 id="通过-nodemon-实现-保存文件实时重启"><a href="#通过-nodemon-实现-保存文件实时重启" class="headerlink" title="通过 nodemon 实现 保存文件实时重启"></a>通过 nodemon 实现 保存文件实时重启</h3><ol>
<li>安装nodemon <code>npm install -g nodemon</code></li>
<li>基本使用 <code>nodemon server.js</code></li>
</ol>
<p>只要执行了上面的命令，那么当你修改了 server.js 那么nodemon会帮你自动重启 server</p>
<p>###2.1 使用npm命令执行代码<br>1.package.json里面配置scripts属性里面写npm的命令<br>2.npm的命令在控制台直接npm打印出来可以查看<br>3.npm命令后面接的是具体的命令，打npm命令调用具体的命令</p>
<p>###2.2编写node脚本<br>1.把js代码变成node脚本<br>在要执行的js文件当中加入下面这句话，是固定写法</p>
<p>#!/usr/bin/env node</p>
<p>2.package.json里面配置bin属性里面写命令,这个命令的名称是可以自定义的</p>
<p>3.必须打npm link这个命令，把当前包安装到全局去</p>
<p>###2.3通过命令调用脚本</p>
<h2 id="http-模块"><a href="#http-模块" class="headerlink" title="http 模块"></a>http 模块</h2><h3 id="使用-http-模块进行web开发"><a href="#使用-http-模块进行web开发" class="headerlink" title="使用 http 模块进行web开发"></a>使用 http 模块进行web开发</h3><ul>
<li>创建 HTTP 服务器</li>
</ul>
<p><code>http.createServer([requestListener])</code></p>
<ul>
<li><p>通过监听Event: ‘request’来进行<br>server.on(‘request’,(request,response) =&gt; {});</p>
</li>
<li><p>request、response对象<br>request对象，用于接收请求报文内的信息<br>response对象，用于返回响应报文内的信息</p>
</li>
<li><p>response.write()<br>write方法用于向响应体里写内容，用于向客户端发送信息，可以被多次使用</p>
</li>
<li><p>response.end()<br>在一次请求和响应过程当中，只要调用了  end 就不能再继续 write 了<br>就说明你是在一次请求和响应处理过程中已经结束了响应，但是又去 向客户端发送数据<br>这个时候就会报错</p>
</li>
<li><p>server.listen(port[, hostname][, backlog][, callback])<br>监听端口，执行这句，服务正式被启动使用<br>server.listen(3000,’127.0.0.1’,() =&gt; {<br>console.log(‘server is listening at port 3000’);<br>});</p>
</li>
</ul>
<h3 id="request"><a href="#request" class="headerlink" title="request"></a>request</h3><ul>
<li>request.headers 请求头</li>
<li>request.method 请求方法</li>
<li>request.url 请求路径</li>
<li>request.httpVersion 请求HTTP协议版本</li>
</ul>
<h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><ul>
<li>res.writeHead(200,{‘Content-Type’: ‘text/html; charset=utf-8’});<br>设置响应报文头</li>
<li>res.write(‘<h1>hello world</h1>‘);</li>
<li>res.end();</li>
</ul>
<h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h3><p>内容类型，一般是指网页中存在的Content-Type，用于定义网络文件的类型和网页的编码，<br>决定文件接收方将以什么形式、什么编码读取这个文</p>
<h3 id="通过-req-url和req-method的不同给出不同的响应"><a href="#通过-req-url和req-method的不同给出不同的响应" class="headerlink" title="通过 req.url和req.method的不同给出不同的响应"></a>通过 req.url和req.method的不同给出不同的响应</h3><p>  if (req.url == ‘/‘ &amp;&amp; req.method == ‘GET’) {<br>    res.writeHead(200, {<br>      ‘Content-Type’: ‘text/html; charset=utf-8’<br>    });<br>    res.write(‘</p><h1>首页</h1>‘);<br>    res.end();<br>  }<p></p>
<h3 id="request通过data事件和end事件来接收post的数据"><a href="#request通过data事件和end事件来接收post的数据" class="headerlink" title="request通过data事件和end事件来接收post的数据"></a>request通过data事件和end事件来接收post的数据</h3><p>let data = ‘’;<br>req.on(‘data’, (chunk) =&gt; {<br>      data += chunk;<br>});<br> req.on(‘end’, () =&gt; {<br>      console.log(data);<br>      res.writeHead(200, {<br>        ‘Content-Type’: ‘text/html; charset=utf-8’<br>      });<br>      res.write(‘</p><h1>收到数据了</h1>‘);<br>      res.end();<br> });<p></p>
<h3 id="通过-querystring解析post的数据"><a href="#通过-querystring解析post的数据" class="headerlink" title="通过 querystring解析post的数据"></a>通过 querystring解析post的数据</h3><p>querystring.parse(‘foo=bar&amp;baz=qux&amp;baz=quux&amp;corge’)<br>// returns { foo: ‘bar’, baz: [‘qux’, ‘quux’], corge: ‘’ }</p>
<h3 id="url"><a href="#url" class="headerlink" title="url"></a>url</h3><ul>
<li>url.parse(urlStr, [parseQueryString], [slashesDenoteHost])<br>urlStr-&gt;url字符串<br>parseQueryString-&gt;为true时将使用queryString分析查询字符串，默认为false<br>slashesDenoteHost<br>默认为false，//foo/bar 形式的字符串将被解释成 { pathname: ‘//foo/bar’ }<br>如果设置成true，//foo/bar 形式的字符串将被解释成  { host: ‘foo’, pathname: ‘/bar’ }</li>
</ul>
<p>服务器相关操作事件和API</p>
<ul>
<li>Event: ‘close’</li>
<li>Event: ‘connection’</li>
<li>Event: ‘request’</li>
<li>server.close([callback])</li>
<li>server.listen(port[, hostname][, backlog][, callback])</li>
</ul>
<p>请求对象</p>
<ul>
<li>Event: ‘data’</li>
<li>message.headers</li>
<li>message.httpVersion</li>
<li>message.method</li>
<li>message.url<ul>
<li>require(‘url’).parse(request.url)</li>
<li>require(‘url’).parse(request.url, true)</li>
</ul>
</li>
</ul>
<p>响应对象</p>
<ul>
<li>response.end([data][, encoding][, callback])</li>
<li>response.setHeader(name, value)</li>
<li>response.statusCode</li>
<li>response.statusMessage</li>
<li>response.write(chunk[, encoding][, callback])</li>
<li>response.writeHead(statusCode[, statusMessage][, headers])</li>
</ul>
<h2 id="gulp"><a href="#gulp" class="headerlink" title="gulp"></a>gulp</h2><p>  <a href="http://www.gulpjs.com" target="_blank" rel="external">官网</a><br>  <a href="http://www.gulpjs.com.cn" target="_blank" rel="external">中文网</a></p>
<ul>
<li><p>前端自动化构建工具<br>js压缩,var x,xname，混淆<br>合并.<br>css压缩<br>html压压缩</p>
</li>
<li><p>grunt ,webpack…</p>
</li>
</ul>
<h3 id="核心就5个方法"><a href="#核心就5个方法" class="headerlink" title="核心就5个方法"></a>核心就5个方法</h3><ul>
<li>task,gulp中是一个个任务的形式来实现功能。<ul>
<li>task(‘任务名’,function(){<br>…..<br>});</li>
</ul>
</li>
<li>src<ul>
<li>src(‘./*.js’)</li>
</ul>
</li>
<li>dest(‘./minjs/‘)// 指定处理后的文件的输出路径.</li>
<li>watch(‘./*.js’,[‘任务名1’,’任务名2’]);</li>
<li>run(‘任务名’);//执行指定的任务.</li>
</ul>
<h3 id="gulp的安装"><a href="#gulp的安装" class="headerlink" title="gulp的安装"></a>gulp的安装</h3><ul>
<li>使用npm 进行安装</li>
<li><code>npm install gulp-cli -g</code>;</li>
<li><code>npm i -g gulp-cli</code>;</li>
</ul>
<h3 id="gulp-使用"><a href="#gulp-使用" class="headerlink" title="gulp 使用"></a>gulp 使用</h3><h4 id="使用时还需要在项目中通过npm非全局安装gulp"><a href="#使用时还需要在项目中通过npm非全局安装gulp" class="headerlink" title="使用时还需要在项目中通过npm非全局安装gulp"></a>使用时还需要在项目中通过npm非全局安装gulp</h4><ul>
<li><code>npm install gulp --save-dev</code></li>
</ul>
<h4 id="还需要在当前项目根目录添加一个gulpfile-js文件来写具体的任务代码"><a href="#还需要在当前项目根目录添加一个gulpfile-js文件来写具体的任务代码" class="headerlink" title="还需要在当前项目根目录添加一个gulpfile.js文件来写具体的任务代码."></a>还需要在当前项目根目录添加一个gulpfile.js文件来写具体的任务代码.</h4><h3 id="gulp的一些插件"><a href="#gulp的一些插件" class="headerlink" title="gulp的一些插件"></a>gulp的一些插件</h3><ul>
<li>也是使用npm安装</li>
<li>对js代码进行压缩 gulp-uglify<br>.pipe(uglify())</li>
<li>对代码进行合并 gulp-concat<br>.pipe(concat(‘all.js’))<br>.pipe(concat(‘all.css’))</li>
<li>对css进行压缩 gulp-cssnano<br>.pipe(cssnano())</li>
<li>对html进行压缩 gulp-htmlmin<br>.pipe(htmlmin({collapseWhitespace:true,minifyJS:false,minifyCSS:true}))</li>
</ul>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/05/11/app开发环境搭建/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          app开发环境搭建2
        
      </div>
    </a>
  
  
    <a href="/2016/04/17/node02/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">node02</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2016 Dengbinbin
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/winnerweb/hexo-Yilia-Smackdown" target="_blank">Yilia(Smackdown)</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>